extends layout

block title
  title Invictus | Household Details

block content
  .household-detail-container
    h1 Household Details

    // Display Household Information
    .household-info
      p
        strong Household ID:
        |  #{household.householdId}
      p
        strong Total Account Value:
        |  $#{household.totalAccountValue}

    // Head of Household Information
    h3 Head of Household
    .client-info
      p Name: #{formattedHeadOfHousehold}
      p DOB: #{formatDate(headOfHousehold.dob)}
      p SSN: #{headOfHousehold.ssn || '-'}
      p Email: #{headOfHousehold.email || '-'}
      p Mobile: #{headOfHousehold.mobileNumber || '-'}
      if headOfHousehold.homePhone
        p Home Phone: #{headOfHousehold.homePhone}
      if headOfHousehold.homeAddress
        p Home Address: #{headOfHousehold.homeAddress}

    // Other Household Members
    if clients.length > 1
      h3 Household Members
      table.table.table-striped
        thead
          tr
            th Client ID
            th First Name
            th Middle Name
            th Last Name
            th DOB
            th SSN
            th Tax Filing Status
            th Marital Status
            th Email
            th Mobile Number
            th Home Phone
            th Home Address
        tbody
          each client in clients
            if client._id.toString() !== headOfHousehold._id.toString()
              tr
                td #{client.clientId || '-'}
                td #{client.firstName || '-'}
                td #{client.middleName || '-'}
                td #{client.lastName || '-'}
                td #{formatDate(client.dob) || '-'}
                td #{client.ssn || '-'}
                td #{client.taxFilingStatus || '-'}
                td #{client.maritalStatus || '-'}
                td #{client.email || '-'}
                td #{client.mobileNumber || '-'}
                td #{client.homePhone || '-'}
                td #{client.homeAddress || '-'}

block scripts
  script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js')
  script(src='/js/appScript.js')
  //- script(src='/js/households.js')
